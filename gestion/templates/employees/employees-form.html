{% load i18n %}


<div class="row modal-head m-0">
    <div class="col-11"><i class="fa fa-medkit orange"></i>&nbsp; {% trans 'Empleados' %} </div>
    <div class="col-1">
        <div class="d-flex justify-content-end"> 
            <button type="button" class="btn btn-lg" data-bs-dismiss="modal" title="{% trans "Close" %}">
            <i class="fas fa-times"></i></button> </div>
    </div>
</div>

<div id="div-notification"></div>

<div class="row justify-center">
    <div class="col-6">
        <div class="greybox-sm p-1">
            {% trans "Nombre" %}
            <input type="text" class="form-control autosave" id="name" name="name" value="{{obj.name|default:''}}" 
                title="{{obj.name}}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" 
                data-target="div-notification" placeholder="Nombre..." /> <span id="name__msg"></span>
        </div>
    </div>
    <div class="col-2">
        <div class="greybox-sm p-1">
            {% trans "PIN" %}
            <input type="text" class="form-control ark_change" id="pin" name="pin" value="{{obj.pin|default:''}}" 
                title="{{obj.pin}}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-old-value="{{obj.pin}}" data-url="{%url 'employees-save-pin'%}" data-obj_id="{{obj.id}}"
                data-target="div-notification" placeholder="PIN..." /> <span id="pin__msg"></span>
            <button class="btn btn-xs" onclick="$('#pin').val($('#dni').val());$('#pin').change()" 
                title="{%trans 'Cargar DNI'%}"><i class="fas fa-sync"></i> <small>{%trans "Copiar DNI"%}</small></button>
        </div>
    </div>
    <div class="col-2">
        <div class="greybox-sm p-1">
            {% trans "DNI" %}
            <input type="text" class="form-control autosave" id="dni" name="dni" value="{{obj.dni|default:''}}" 
                title="{{obj.dni}}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" 
                data-target="div-notification" placeholder="DNI..." /> <span id="dni__msg"></span>
        </div>
    </div>
    <div class="col-2">
        <div class="greybox-sm p-1">
            {% trans 'Afiliación' %}
            <input type="text" class="form-control autosave" id="affiliation_number" name="affiliation_number" value="{{obj.affiliation_number|default:''}}" 
                title="{{obj.affiliation_number}}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" 
                data-target="div-notification" placeholder="Nº de afiliación..." /> <span id="affiliation_number__msg"></span>
        </div>
    </div>
   <div class="col-6 col-lg-4">
        <div class="greybox-sm p-1">
            {% trans "Correo electrónico" %}
            <input type="text" class="form-control ark_change" id="email" name="email" value="{{obj.email|default:''}}" 
                title="{{obj.email}}" data-url="{%url 'employees-save-email'%}" data-target="div-notification" data-obj_id="{{obj.id}}"
                placeholder="Correo electrónico..." required/> <span id="email__msg"></span>
            {%comment%}
            <input type="text" class="form-control autosave" id="email" name="email" value="{{obj.email|default:''}}" 
                title="{{obj.email}}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" 
                data-target="div-notification" placeholder="Correo electrónico..." required/> <span id="email__msg"></span>
            {%endcomment%}
        </div>
    </div>

    <div class="col-6 col-lg-2">
        <div class="greybox-sm p-1">
            {% trans "Teléfono" %}
            <input type="text" class="form-control autosave" id="phone" name="phone" value="{{obj.phone|default:''}}" 
                title="{{obj.phone}}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" 
                data-target="div-notification" placeholder="Teléfono..." /> <span id="phone__msg"></span>
        </div>
    </div>
        <div class="col-6 col-lg-2">
        <div class="greybox-sm p-1">
            {% trans "Empresa" %}
            <select class="form-control autosave" id="comp" name="comp" data-model-name="gestion.employee" 
                data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" data-target="div-notification">
                {% if request.user.is_superuser %}
                <option value="">--{% trans 'Seleccione una empresa' %}--</option>
                {% endif %}
                {% for item in companies %}
                    <option value="{{item.id}}" {%if obj.comp.pk == item.pk %}selected{%endif%}>{{item.name}}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    <div class="col-6 col-lg-2">
        <div class="greybox-sm p-1">
            {% trans 'Horas semanales' %}
            <input type="number" class="form-control autosave" id="weekly_hours" name="weekly_hours" value="{{obj.weekly_hours|default:''}}" 
                title="{{obj.weekly_hours}}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" 
                data-target="div-notification" placeholder="Horas semanales..." /> <span id="weekly_hours__msg"></span>
        </div>
    </div>
    <div class="col-6 col-lg-2">
        <div class="greybox-sm p-1">
            {% trans 'Días semanales' %}
            <input type="number" class="form-control autosave" id="weekly_days" name="weekly_days" value="{{obj.weekly_days|default:'5'}}" 
                title="{{obj.weekly_days}}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" 
                data-target="div-notification" placeholder="Días semanales..." /> <span id="weekly_days__msg"></span>
        </div>
    </div>
    <div clas="col-12">
        <div class="greybox-sm p-1">
            <labbel> Horas semanales por día </labbel>
        </div>
    </div>
    <div class="col-6 col-lg-2">
        <div class="greybox-sm p-1">
            {% trans 'Lunes' %}
            <input type="number" class="form-control autosave" id="mon_hours" step="0.1" name="mon_hours" value="{{obj.mon_hours}}" title="{% trans 'Horas Lunes' %}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" data-target="div-notification" placeholder="7.5" /> <span id="mon__msg"></span>
        </div>
    </div>
    <div class="col-6 col-lg-2">
        <div class="greybox-sm p-1">
            {% trans 'Martes' %}
            <input type="number" class="form-control autosave" id="tue_hours" step="0.1" name="tue_hours" value="{{obj.tue_hours}}" title="{% trans 'Horas Martes' %}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" data-target="div-notification" placeholder="7.5" /> <span id="tue__msg"></span>
        </div>
    </div>
    <div class="col-6 col-lg-2">
        <div class="greybox-sm p-1">
            {% trans 'Miércoles' %}
            <input type="number" class="form-control autosave" id="wed_hours" step="0.1" name="wed_hours" value="{{obj.wed_hours}}" title="{% trans 'Horas Miércoles' %}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" data-target="div-notification" placeholder="7.5" /> <span id="wed__msg"></span>
        </div>
    </div>
    <div class="col-6 col-lg-2">
        <div class="greybox-sm p-1">
            {% trans 'Jueves' %}
            <input type="number" class="form-control autosave" id="thu_hours" step="0.1" name="thu_hours" value="{{obj.thu_hours}}" title="{% trans 'Horas Jueves' %}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" data-target="div-notification" placeholder="7.5" /> <span id="thu__msg"></span>
        </div>
    </div>
    <div class="col-6 col-lg-2">
        <div class="greybox-sm p-1">
            {% trans 'Viernes' %}
            <input type="number" class="form-control autosave" id="fri_hours" step="0.1" name="fri_hours" value="{{obj.fri_hours}}" title="{% trans 'Horas Viernes' %}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" data-target="div-notification" placeholder="7.5" /> <span id="fri__msg"></span>
        </div>
    </div>
    <div class="col-6 col-lg-1">
        <div class="greybox-sm p-1">
            {% trans 'Sáb' %}
            <input type="number" class="form-control autosave" id="sat_hours" step="0.1" name="sat_hours" value="{{obj.sat_hours}}" title="{% trans 'Horas Sábado' %}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" data-target="div-notification" placeholder="0" /> <span id="sat__msg"></span>
        </div>
    </div>
    <div class="col-6 col-lg-1">
        <div class="greybox-sm p-1">
            {% trans 'Dom' %}
            <input type="number" class="form-control autosave" id="sun_hours" step="0.1" name="sun_hours" value="{{obj.sun_hours}}" title="{% trans 'Horas Domingo' %}" data-model-name="gestion.employee" data-obj-id="{{obj.id}}" data-url="{%url 'autosave_field'%}" data-target="div-notification" placeholder="0" /> <span id="sun__msg"></span>
        </div>
    </div>

 
</div>

<div class="d-flex justify-content-end p-2">
    <button type="button" class="btn btn-primary ark" data-bs-dismiss="modal" data-url="{% url 'employees-list' %}"
        data-target="emp-list">{% trans "Guardar" %}</button>
    {%comment%}
    <button type="button" class="btn btn-sm ark cancel" data-bs-dismiss="modal" data-url="{% url 'guest-remove' %}" data-target="guest-list"
        data-obj_id="{{obj.id}}" data-confirm="{% trans "Are you sure to remove this element?" %}">{% trans "Remove" %}</button>
    {%endcomment%}
</div>

